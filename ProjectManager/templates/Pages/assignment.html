{% extends 'base.html' %}

{% block title %}
Phân Giáo Viên
{% endblock %}

{% block content %}
<div id="page-content">
    <div class="row g-0">
        <div class="col-lg-7 order-lg-first order-last">
            <div class="assignment_list shadow">
                <h4 class="box-title mb-4">DANH SÁCH PHÂN GIÁO VIÊN HƯỚNG DẪN</h4>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="input-group input--large">
                            <label class="label">Tìm kiếm</label>
                            <input id="myInput" class="input--style-1" type="text" placeholder="Tên đề tài, giáo viên, sinh viên...." name="search">
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <ul class="list-wraper list-unstyled">
                            {% for ta in list_teacher_assignment %}
                            <li class="item shadow" onclick="">
                                <div class="row">
                                    <div class="col-lg-2 col-md-2">
                                        <div id="pid" class="mini-box">
                                            {{ta.id}}
                                        </div>
                                    </div>
                                    <div class="col-lg-10 col-md-10">
                                        <div class="asm-Content ms-xxl-5 ms-md-2">
                                            <h3 id="pname">
                                                {% if ta.ProjectName == "" %}
                                                Tên đề tài chưa cập nhật
                                                {% else %}
                                                {{ta.ProjectName}}
                                                {% endif %}
                                            </h3>
                                            <div class="row assignment-info">
                                                <div class="col-xl-6">
                                                    <span style="color: blue"> GVHD: </span>
                                                    <span id="tname" class="me-2">{{ta.Teacher}}</span>
                                                </div>
                                                <div class="col-xl-6">
                                                    <span style="color: blue"> Sinh Viên:</span>
                                                    <span id="sname" class="me-2">{{ta.Student}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <a id='btn-asdel' class="btn btn-danger btn-circle d-none">
                                        <i class="fas fa-times"></i>
                                    </a>
                                </div>
                            </li>
                            {%endfor%}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-5 ">
            <div class="assignment-wraper">
                <div class="assignment_box shadow">
                    <h4 class="box-title mb-4">PHÂN GIÁO VIÊN</h4>
                    <div class="assignment_box-body text-center p-3">
                        <form id="assignmentForm" action="." method="POST">
                            {% csrf_token %}
                            <div class="row mb-3">
                                <div class="sel_teach col-xl-6 mb-xl-0 mb-md-3 mb-sm-3 ">
                                    <div class="form-group">
                                        {{ assignment_form.Teacher }}
                                    </div>
                                </div>
                                <div class="col-xl-6 mb-xl-0 mb-md-3 mb-sm-3">
                                    <div class="form-group">
                                        {{ assignment_form.Student }}
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <button type="submit" class="btn-assignment btn-dashboard w-100 mt-3 btn-lg nav-link">Phân Giáo Viên</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="editAssignmentItemBox" tabindex="-1" role="dialog" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen-sm-down modal-lg" role="document">
            <div class="modal-content">
                <!-- <a class="btn btn-danger">
                    <i class="fas fa-times"></i>
                </a> -->
                <!-- <button type="button" id="closeEditBox" class="btn btn-danger" style="width: 40px;
                                    height: 40px;
                                    font-size: 18px;
                                    line-height: 1.33;
                                    border-radius: 25px;
                                    align-items: center;
                                    justify-content: center;
                                    display: flex;
                                    margin-left: 96%;
                                    margin-top: -4%;">
                    <i class="fas fa-times"></i>
                </button> -->
                <div class="modal-body">
                    <form id="assignmentEditForm" action="." method="POST">
                        {% csrf_token %}
                        <input id="Pid" class="form-control" type="text" value="">
                        <div class="row mb-3">
                        <input id="oldPName" class="form-control" type="text" value="">
                        <div class="row mb-3">
                            <div class="col-xl-6 mb-xl-0 mb-md-3 mb-sm-3">
                                <input id="oldTeachName" class="form-control-plaintext" type="text" value="" aria-label="Disabled input example" disabled readonly>
                            </div>
                            <div class="col-xl-6 mb-xl-0 mb-md-3 mb-sm-3">
                                <input id="oldStudentName" class="form-control-plaintext" type="text" value="" aria-label="Disabled input example" disabled readonly>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-xl-6 mb-xl-0 mb-md-3 mb-sm-3 ">
                                <div id="selNewTeach" class="form-group">
                                    {{ assignment_form.Teacher }}
                                </div>
                            </div>
                            <div class="col-xl-6 mb-xl-0 mb-md-3 mb-sm-3">
                                <div id="selNewStudent"  class="form-group">
                                    {{ assignment_form.Student }}
                                </div>
                            </div>
                        </div>
                        <button type="button" id="closeEdit" class="btn btn-secondary">Close</button>
                        <button type="button" id="confirmEdit" class="btn btn-primary">Save changes</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}